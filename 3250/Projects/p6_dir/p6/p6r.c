//Author: Ross Bearden//Class: 3250//Assignment: p6//Purpose: Learning to use shared memory between programs running on the same machine#include <stdio.h>#include <unistd.h>#include <sys/mman.h>#include <sys/stat.h>#include <fcntl.h>#include <semaphore.h>int main(int argc, char* argv[]){		        //Create necessary variables for working with shared memory	        int rc, shm_size, shmfd;	int *count;        void *shmptr;        sem_t *semptr;        //Get page size        shm_size = sysconf( _SC_PAGE_SIZE );	//Open a shared memory segement and store the file descriptor to it	shmfd = shm_open("srb5q_shm",O_RDWR, 0);	//Resize the shared memory and map it into memory        shmptr = mmap((void *)NULL, shm_size, PROT_WRITE|PROT_READ, MAP_SHARED, shmfd, 0);	//Place the number count in the the shared memory if it does not already exist	//Create semaphore	semptr = sem_open("srb5q_sem", 0, 0644, 0);	//Close the shared memory file descriptor	close(shmfd);        //Print numbers from the shared memory space and decrement the total count	if (sem_wait(semptr) == 0){		sem_post(semptr);	}	//Aquire the int count	count = (shmptr + (sizeof(int) * 101));	int i = 0;	//int * nextInt;	while(*count > 0){		printf("%d\n", *((int*)(shmptr + sizeof(int) * i)));		i++;		(*count)--;	}	sem_close(semptr);	//Unmap the shared memory 	munmap(shmptr, shm_size);	//Unlink the shared memory and semaphor	shm_unlink("srb5q");	sem_unlink("srb5q");	return 0;}